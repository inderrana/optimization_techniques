##Set variables 
#VARS  = sepal length, speal width, petal lenth and petal width
#Species = observations
 
set SPECIES;
set VARS;

#Set assign parametres
param x {SPECIES,VARS} >= 0;
param z {SPECIES};
param c;

var y{SPECIES} >= 0;  
var w{VARS} >= 0;  
var g >= 0;  

#equation to minimize the error
minimize Error: 
	c*sum{i in SPECIES} y[i] + 0.5*(sum{j in VARS} w[j]^2);

#constrain to split the species in 2 classes
#if greater then 1 then class 1 else class 2
subject to Type {i in SPECIES}:  
   z[i]*(sum {j in VARS} x[i,j]*w[j]- g) + y[i] >= 1;

#normalized IRIS data  
data;

#c param: we tried multiple values, and used 2 at the end as it looked optimal
param c := 2;

set SPECIES := a1	a2	a3	a4	a5	a6	a7	a8	a9	a10	a11	a12	a13	a14	a15	a16	a17	a18	a19	a20	a21	a22	a23	a24	a25	a26	a27	a28	a29	a30	a31	a32	a33	a34	a35	a36	a37	a38	a39	a40	a41	a42	a43	a44	a45	a46	a47	a48	a49	a50	a51	a52	a53	a54	a55	a56	a57	a58	a59	a60	a61	a62	a63	a64	a65	a66	a67	a68	a69	a70	a71	a72	a73	a74	a75	a76	a77	a78	a79	a80	a81	a82	a83	a84	a85	a86	a87	a88	a89	a90	a91	a92	a93	a94	a95	a96	a97	a98	a99	a100;

set VARS := w1 w2 w3 w4;

#
param x:
		w1     w2     w3     w4    :=
	a1	0.296296296	0.625	0.097560976	0.058823529
	a2	0.222222222	0.416666667	0.097560976	0.058823529
	a3	0.148148148	0.5	0.073170732	0.058823529
	a4	0.111111111	0.458333333	0.12195122	0.058823529
	a5	0.259259259	0.666666667	0.097560976	0.058823529
	a6	0.407407407	0.791666667	0.170731707	0.176470588
	a7	0.111111111	0.583333333	0.097560976	0.117647059
	a8	0.259259259	0.583333333	0.12195122	0.058823529
	a9	0.037037037	0.375	0.097560976	0.058823529
	a10	0.222222222	0.458333333	0.12195122	0
	a11	0.407407407	0.708333333	0.12195122	0.058823529
	a12	0.185185185	0.583333333	0.146341463	0.058823529
	a13	0.185185185	0.416666667	0.097560976	0
	a14	0	0.416666667	0.024390244	0
	a15	0.555555556	0.833333333	0.048780488	0.058823529
	a16	0.518518519	1	0.12195122	0.176470588
	a17	0.407407407	0.791666667	0.073170732	0.176470588
	a18	0.296296296	0.625	0.097560976	0.117647059
	a19	0.518518519	0.75	0.170731707	0.117647059
	a20	0.296296296	0.75	0.12195122	0.117647059
	a21	0.407407407	0.583333333	0.170731707	0.058823529
	a22	0.296296296	0.708333333	0.12195122	0.176470588
	a23	0.111111111	0.666666667	0	0.058823529
	a24	0.296296296	0.541666667	0.170731707	0.235294118
	a25	0.185185185	0.583333333	0.219512195	0.058823529
	a26	0.259259259	0.416666667	0.146341463	0.058823529
	a27	0.259259259	0.583333333	0.146341463	0.176470588
	a28	0.333333333	0.625	0.12195122	0.058823529
	a29	0.333333333	0.583333333	0.097560976	0.058823529
	a30	0.148148148	0.5	0.146341463	0.058823529
	a31	0.185185185	0.458333333	0.146341463	0.058823529
	a32	0.407407407	0.583333333	0.12195122	0.176470588
	a33	0.333333333	0.875	0.12195122	0
	a34	0.444444444	0.916666667	0.097560976	0.058823529
	a35	0.222222222	0.458333333	0.12195122	0
	a36	0.259259259	0.5	0.048780488	0.058823529
	a37	0.444444444	0.625	0.073170732	0.058823529
	a38	0.222222222	0.458333333	0.12195122	0
	a39	0.037037037	0.416666667	0.073170732	0.058823529
	a40	0.296296296	0.583333333	0.12195122	0.058823529
	a41	0.259259259	0.625	0.073170732	0.117647059
	a42	0.074074074	0.125	0.073170732	0.117647059
	a43	0.037037037	0.5	0.073170732	0.058823529
	a44	0.259259259	0.625	0.146341463	0.294117647
	a45	0.296296296	0.75	0.219512195	0.176470588
	a46	0.185185185	0.416666667	0.097560976	0.117647059
	a47	0.296296296	0.75	0.146341463	0.058823529
	a48	0.111111111	0.5	0.097560976	0.058823529
	a49	0.37037037	0.708333333	0.12195122	0.058823529
	a50	0.259259259	0.541666667	0.097560976	0.058823529
	a51	1	0.5	0.902439024	0.764705882
	a52	0.777777778	0.5	0.853658537	0.823529412
	a53	0.962962963	0.458333333	0.951219512	0.823529412
	a54	0.444444444	0.125	0.731707317	0.705882353
	a55	0.814814815	0.333333333	0.87804878	0.823529412
	a56	0.518518519	0.333333333	0.853658537	0.705882353
	a57	0.740740741	0.541666667	0.902439024	0.882352941
	a58	0.222222222	0.166666667	0.56097561	0.529411765
	a59	0.851851852	0.375	0.87804878	0.705882353
	a60	0.333333333	0.291666667	0.707317073	0.764705882
	a61	0.259259259	0	0.609756098	0.529411765
	a62	0.592592593	0.416666667	0.780487805	0.823529412
	a63	0.62962963	0.083333333	0.731707317	0.529411765
	a64	0.666666667	0.375	0.902439024	0.764705882
	a65	0.481481481	0.375	0.634146341	0.705882353
	a66	0.888888889	0.458333333	0.829268293	0.764705882
	a67	0.481481481	0.416666667	0.853658537	0.823529412
	a68	0.555555556	0.291666667	0.756097561	0.529411765
	a69	0.703703704	0.083333333	0.853658537	0.823529412
	a70	0.481481481	0.208333333	0.707317073	0.588235294
	a71	0.592592593	0.5	0.926829268	1
	a72	0.666666667	0.333333333	0.731707317	0.705882353
	a73	0.740740741	0.208333333	0.951219512	0.823529412
	a74	0.666666667	0.333333333	0.902439024	0.647058824
	a75	0.777777778	0.375	0.804878049	0.705882353
	a76	0.851851852	0.416666667	0.829268293	0.764705882
	a77	0.925925926	0.333333333	0.926829268	0.764705882
	a78	0.888888889	0.416666667	0.975609756	0.941176471
	a79	0.62962963	0.375	0.853658537	0.823529412
	a80	0.518518519	0.25	0.609756098	0.529411765
	a81	0.444444444	0.166666667	0.682926829	0.588235294
	a82	0.444444444	0.166666667	0.658536585	0.529411765
	a83	0.555555556	0.291666667	0.707317073	0.647058824
	a84	0.62962963	0.291666667	1	0.882352941
	a85	0.407407407	0.416666667	0.853658537	0.823529412
	a86	0.62962963	0.583333333	0.853658537	0.882352941
	a87	0.888888889	0.458333333	0.902439024	0.823529412
	a88	0.740740741	0.125	0.829268293	0.705882353
	a89	0.481481481	0.416666667	0.756097561	0.705882353
	a90	0.444444444	0.208333333	0.731707317	0.705882353
	a91	0.444444444	0.25	0.829268293	0.647058824
	a92	0.666666667	0.416666667	0.87804878	0.764705882
	a93	0.555555556	0.25	0.731707317	0.647058824
	a94	0.259259259	0.125	0.56097561	0.529411765
	a95	0.481481481	0.291666667	0.780487805	0.705882353
	a96	0.518518519	0.416666667	0.780487805	0.647058824
	a97	0.518518519	0.375	0.780487805	0.705882353
	a98	0.703703704	0.375	0.804878049	0.705882353
	a99	0.296296296	0.208333333	0.487804878	0.588235294
	a100	0.518518519	0.333333333	0.756097561	0.705882353
	
	
;

param z:=
	a1	1
	a2	1
	a3	1
	a4	1
	a5	1
	a6	1
	a7	1
	a8	1
	a9	1
	a10	1
	a11	1
	a12	1
	a13	1
	a14	1
	a15	1
	a16	1
	a17	1
	a18	1
	a19	1
	a20	1
	a21	1
	a22	1
	a23	1
	a24	1
	a25	1
	a26	1
	a27	1
	a28	1
	a29	1
	a30	1
	a31	1
	a32	1
	a33	1
	a34	1
	a35	1
	a36	1
	a37	1
	a38	1
	a39	1
	a40	1
	a41	1
	a42	1
	a43	1
	a44	1
	a45	1
	a46	1
	a47	1
	a48	1
	a49	1
	a50	1
	a51	0
	a52	0
	a53	0
	a54	0
	a55	0
	a56	0
	a57	0
	a58	0
	a59	0
	a60	0
	a61	0
	a62	0
	a63	0
	a64	0
	a65	0
	a66	0
	a67	0
	a68	0
	a69	0
	a70	0
	a71	0
	a72	0
	a73	0
	a74	0
	a75	0
	a76	0
	a77	0
	a78	0
	a79	0
	a80	0
	a81	0
	a82	0
	a83	0
	a84	0
	a85	0
	a86	0
	a87	0
	a88	0
	a89	0
	a90	0
	a91	0
	a92	0
	a93	0
	a94	0
	a95	0
	a96	0
	a97	0
	a98	0
	a99	0
	a100 0
;
